<!DOCTYPE html>
<html lang="ro">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="AplicaÈ›ie AR.js - Realitate AugmentatÄƒ pe Web">
    <title>AR.js - Realitate AugmentatÄƒ</title>
    
    <!-- A-Frame Core -->
    <script src="https://aframe.io/releases/1.6.0/aframe.min.js"></script>
    
    <!-- AR.js with Marker Tracking -->
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>
    
    <!-- Custom Styles -->
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <!-- Loading Screen -->
    <div id="loading-screen" class="loading-screen">
        <div class="loader-content">
            <div class="spinner"></div>
            <h2>Se Ã®ncarcÄƒ AR...</h2>
            <p>PermiteÈ›i accesul la camerÄƒ cÃ¢nd vi se solicitÄƒ</p>
        </div>
    </div>

    <!-- Instructions Overlay -->
    <div id="instructions" class="instructions-overlay">
        <div class="instructions-content">
            <h2>ğŸ“± Cum sÄƒ foloseÈ™ti aplicaÈ›ia</h2>
            <ol>
                <li>PermiteÈ›i accesul la camerÄƒ</li>
                <li>TipÄƒriÈ›i markerul Hiro (link Ã®n README)</li>
                <li>PuneÈ›i markerul Ã®n faÈ›a camerei</li>
                <li>VÄƒ bucuraÈ›i de experienÈ›a AR!</li>
            </ol>
            <button id="close-instructions" class="btn-close">Ãnchide</button>
        </div>
    </div>

    <!-- Info Button -->
    <button id="info-btn" class="info-button" title="InstrucÈ›iuni">â„¹ï¸</button>

    <!-- Control Panel -->
    <div id="control-panel" class="control-panel">
        <div class="panel-header">
            <h3>ğŸ® Control Panel</h3>
            <button id="toggle-panel" class="toggle-btn">âˆ’</button>
        </div>
        
        <div class="panel-content">
            <!-- Model Selector -->
            <div class="control-section">
                <label class="section-label">ğŸ“¦ Model 3D</label>
                <div class="button-group">
                    <button class="control-btn active" data-model="trex">ğŸ¦– T-Rex</button>
                    <button class="control-btn" data-model="box">ğŸ“¦ Cub</button>
                    <button class="control-btn" data-model="sphere">âšª SferÄƒ</button>
                </div>
            </div>

            <!-- Animation Controls -->
            <div class="control-section">
                <label class="section-label">ğŸ¬ AnimaÈ›ii</label>
                <div class="button-group">
                    <button id="toggle-rotate" class="control-btn active">ğŸ”„ Rotire</button>
                    <button id="toggle-bounce" class="control-btn">â¬†ï¸ Salt</button>
                    <button id="toggle-pulse" class="control-btn">ğŸ’“ Puls</button>
                </div>
            </div>

            <!-- Scale Controls -->
            <div class="control-section">
                <label class="section-label">ğŸ“ MÄƒrime</label>
                <div class="slider-container">
                    <input type="range" id="scale-slider" class="slider" min="0.5" max="2" step="0.1" value="1">
                    <span id="scale-value" class="slider-value">100%</span>
                </div>
            </div>

            <!-- Speed Controls -->
            <div class="control-section">
                <label class="section-label">âš¡ VitezÄƒ AnimaÈ›ie</label>
                <div class="slider-container">
                    <input type="range" id="speed-slider" class="slider" min="0.5" max="3" step="0.1" value="1">
                    <span id="speed-value" class="slider-value">100%</span>
                </div>
            </div>

            <!-- Color Controls -->
            <div class="control-section">
                <label class="section-label">ğŸ¨ Culoare</label>
                <div class="color-picker-group">
                    <input type="color" id="color-picker" class="color-picker" value="#ffffff">
                    <button id="reset-color" class="control-btn small">ğŸ”„ Reset</button>
                </div>
            </div>

            <!-- Action Buttons -->
            <div class="control-section">
                <div class="button-group">
                    <button id="reset-all" class="control-btn danger">ğŸ”„ Reset Tot</button>
                    <button id="take-screenshot" class="control-btn">ğŸ“¸ Screenshot</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Status Bar -->
    <div id="status-bar" class="status-bar">
        <div class="status-item">
            <span class="status-label">Marker:</span>
            <span id="marker-status" class="status-value">â³ CÄƒutare...</span>
        </div>
        <div class="status-item">
            <span class="status-label">FPS:</span>
            <span id="fps-counter" class="status-value">--</span>
        </div>
    </div>

    <!-- AR Scene -->
    <a-scene 
        id="ar-scene"
        embedded 
        arjs="sourceType: webcam; debugUIEnabled: false; detectionMode: mono_and_matrix; matrixCodeType: 3x3;"
        vr-mode-ui="enabled: false"
        renderer="logarithmicDepthBuffer: true; precision: medium;"
        style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;"
    >
        <!-- Hiro Marker -->
        <a-marker 
            id="hiro-marker"
            type="pattern" 
            preset="hiro"
            raycaster="objects: .clickable"
            emitevents="true"
            cursor="fuse: false; rayOrigin: mouse;"
        >
            <!-- 3D Model Container -->
            <a-entity id="model-container" position="0 0.5 0">
                <!-- T-Rex Model -->
                <a-entity
                    id="ar-model-trex"
                    class="ar-model clickable"
                    position="0 0 0"
                    scale="0.05 0.05 0.05"
                    rotation="0 0 0"
                    animation__rotate="property: rotation; to: 0 360 0; loop: true; dur: 10000; easing: linear"
                    gltf-model="https://raw.githack.com/AR-js-org/AR.js/master/aframe/examples/image-tracking/nft/trex/scene.gltf"
                    visible="true"
                ></a-entity>

                <!-- Box Model -->
                <a-box
                    id="ar-model-box"
                    class="ar-model clickable"
                    position="0 0 0"
                    scale="0.5 0.5 0.5"
                    rotation="0 0 0"
                    color="#4CC3D9"
                    animation__rotate="property: rotation; to: 0 360 0; loop: true; dur: 10000; easing: linear"
                    visible="false"
                ></a-box>

                <!-- Sphere Model -->
                <a-sphere
                    id="ar-model-sphere"
                    class="ar-model clickable"
                    position="0 0 0"
                    radius="0.3"
                    rotation="0 0 0"
                    color="#EF2D5E"
                    animation__rotate="property: rotation; to: 0 360 0; loop: true; dur: 10000; easing: linear"
                    visible="false"
                ></a-sphere>
            </a-entity>

            <!-- Enhanced Lighting -->
            <a-light type="ambient" color="#fff" intensity="0.6"></a-light>
            <a-light type="directional" position="1 1 1" intensity="0.8"></a-light>
            <a-light type="point" position="0 2 0" intensity="0.5" color="#fff"></a-light>
        </a-marker>

        <!-- Camera -->
        <a-entity camera look-controls="enabled: false"></a-entity>
    </a-scene>

    <!-- Custom JavaScript -->
    <script src="js/main.js"></script>
</body>
</html>

